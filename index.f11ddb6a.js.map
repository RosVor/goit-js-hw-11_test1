{"mappings":"AACA,MAGMA,EAAUC,SAASC,cAAc,YACjCC,EAAaF,SAASG,eAAe,eACrCC,EAAcJ,SAASC,cAAc,cAE3C,IAAII,EAAc,EACdC,EAAc,GAElB,MAAMC,EAAcC,MAAOC,EAAOC,KAChC,IACE,MAAMC,QAAiBC,MAAM,6HAAeH,UAAcC,KAC1D,IAAKC,EAASE,GACZ,MAAM,IAAIC,MAAM,+BAGlB,aADmBH,EAASI,M,CAE5B,MAAOC,GAEP,OADAC,QAAQD,MAAM,uBAAwBA,GAC/B,I,GAILE,EAAoB,EAACC,aAAEA,EAAYC,cAAEA,EAAaC,KAAEA,EAAIC,MAAEA,EAAKC,MAAEA,EAAKC,SAAEA,EAAQC,UAAEA,KAC/E,wEAE8BL,uEAGtBD,8BACQC,sBACRC,oGAI4BC,qDACAC,wDACGC,yDACCC,sCAM3CC,EAAoBC,IACxB,MAAMC,EAAYD,EAAOE,IAAIX,GAAmBY,KAAK,IACrD/B,EAAQgC,UAAYH,EAEpBxB,EAAY4B,MAAMC,QAAUN,EAAOO,OAAS,EAAI,QAAU,MAAM,EA4ClEhC,EAAWiC,iBAAiB,UAzCH3B,MAAO4B,IAC9BA,EAAMC,iBACN/B,EAAc8B,EAAME,OAAOC,YAAYC,MAAMC,OAC7CpC,EAAc,EAEd,IACE,MAAMqC,QAAanC,EAAYD,EAAaD,GAExCqC,GAAQA,EAAKC,KAAKT,OAAS,GAC7BR,EAAiBgB,EAAKC,MACtBvC,EAAY4B,MAAMC,QAAU,UAE5BlC,EAAQgC,UAAY,GACpB3B,EAAY4B,MAAMC,QAAU,OAC5BW,SAASC,OAAOC,QAAQ,4E,CAE1B,MAAO9B,GACPC,QAAQD,MAAM,uBAAwBA,GACtC4B,SAASC,OAAOE,QAAQ,iD,KAwB5B3C,EAAY+B,iBAAiB,SApBD3B,UAC1BH,IAEA,IACE,MAAMqC,QAAanC,EAAYD,EAAaD,GAE5C,GAAIqC,GAAQA,EAAKC,KAAKT,OAAS,EAAG,CAChC,MAAMc,EAAYN,EAAKC,KACvBjB,EAAiBsB,E,MAEjB5C,EAAY4B,MAAMC,QAAU,OAC5BW,SAASC,OAAOI,KAAK,6D,CAEvB,MAAOjC,GACPC,QAAQD,MAAM,uBAAwBA,GACtC4B,SAASC,OAAOE,QAAQ,iD","sources":["src/js/index.js"],"sourcesContent":["\nconst apiKey = '38418747-ec354076649bfa1b688ea2611';\nconst apiUrl = `https://pixabay.com/api/?key=${apiKey}&image_type=photo&orientation=horizontal&safesearch=true`;\n\nconst gallery = document.querySelector('.gallery');\nconst searchForm = document.getElementById('search-form');\nconst loadMoreBtn = document.querySelector('.load-more');\n\nlet currentPage = 1;\nlet searchQuery = '';\n\nconst fetchImages = async (query, page) => {\n  try {\n    const response = await fetch(`${apiUrl}&q=${query}&page=${page}`);\n    if (!response.ok) {\n      throw new Error('Network response was not ok');\n    }\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error('Error fetching data:', error);\n    return null;\n  }\n};\n\nconst createGalleryItem = ({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n  return `\n    <div class=\"photo-card\">\n      <a class=\"gallery__link\" href=\"${largeImageURL}\">\n        <img\n          class=\"gallery__image\"\n          src=\"${webformatURL}\"\n          data-source=\"${largeImageURL}\"\n          alt=\"${tags}\"\n        />\n      </a>\n      <div class=\"info\">\n        <p class=\"info-item\"><b>Likes:</b> ${likes}</p>\n        <p class=\"info-item\"><b>Views:</b> ${views}</p>\n        <p class=\"info-item\"><b>Comments:</b> ${comments}</p>\n        <p class=\"info-item\"><b>Downloads:</b> ${downloads}</p>\n      </div>\n    </div>\n  `;\n};\n\nconst renderImageCards = (images) => {\n  const cardsHTML = images.map(createGalleryItem).join('');\n  gallery.innerHTML = cardsHTML;\n\n  loadMoreBtn.style.display = images.length > 0 ? 'block' : 'none';\n};\n\nconst handleFormSubmit = async (event) => {\n  event.preventDefault();\n  searchQuery = event.target.searchQuery.value.trim();\n  currentPage = 1;\n\n  try {\n    const data = await fetchImages(searchQuery, currentPage);\n\n    if (data && data.hits.length > 0) {\n      renderImageCards(data.hits);\n      loadMoreBtn.style.display = 'block';\n    } else {\n      gallery.innerHTML = '';\n      loadMoreBtn.style.display = 'none';\n      Notiflix.Notify.warning('Sorry, there are no images matching your search query. Please try again.');\n    }\n  } catch (error) {\n    console.error('Error fetching data:', error);\n    Notiflix.Notify.failure('Error fetching images. Please try again later.');\n  }\n};\n\nconst handleLoadMoreClick = async () => {\n  currentPage++;\n\n  try {\n    const data = await fetchImages(searchQuery, currentPage);\n\n    if (data && data.hits.length > 0) {\n      const newImages = data.hits;\n      renderImageCards(newImages);\n    } else {\n      loadMoreBtn.style.display = 'none';\n      Notiflix.Notify.info(\"We're sorry, but you've reached the end of search results.\");\n    }\n  } catch (error) {\n    console.error('Error fetching data:', error);\n    Notiflix.Notify.failure('Error fetching images. Please try again later.');\n  }\n};\n\nsearchForm.addEventListener('submit', handleFormSubmit);\nloadMoreBtn.addEventListener('click', handleLoadMoreClick);"],"names":["$85a5f86b715fe7db$var$gallery","document","querySelector","$85a5f86b715fe7db$var$searchForm","getElementById","$85a5f86b715fe7db$var$loadMoreBtn","$85a5f86b715fe7db$var$currentPage","$85a5f86b715fe7db$var$searchQuery","$85a5f86b715fe7db$var$fetchImages","async","query","page","response","fetch","ok","Error","json","error","console","$85a5f86b715fe7db$var$createGalleryItem","webformatURL","largeImageURL","tags","likes","views","comments","downloads","$85a5f86b715fe7db$var$renderImageCards","images","cardsHTML","map","join","innerHTML","style","display","length","addEventListener","event","preventDefault","target","searchQuery","value","trim","data","hits","Notiflix","Notify","warning","failure","newImages","info"],"version":3,"file":"index.f11ddb6a.js.map"}